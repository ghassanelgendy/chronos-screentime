@startuml
class AppMonitor {
    get_active_app_info()
    get_last_input_time()
    is_system_idle()
    start_tracking()
    stop_tracking()
    _app_tracking_loop()
    _idle_detection_loop()
    _handle_app_switch()
    _log_idle_session()
    update_idle_threshold()
    get_current_app_id()
        data_manager
    is_tracking
    current_app_id
    last_input_time
    idle_threshold
    idle_start
    lock
    is_tracking
    is_tracking
    idle_start
    current_app_id
    current_app_id
    idle_start
    idle_threshold
    __init__()
}
@enduml